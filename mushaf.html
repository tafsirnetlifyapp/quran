<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Quran WBW + Terjemah</title>
  <style>
    body {
      font-family: sans-serif;
      background: #fefcf8;
      padding: 1em;
      direction: rtl;
      text-align: center;
    }
    select {
      font-size: 1em;
      margin: 0.5em;
    }
    .word {
      display: inline-block;
      margin: 0.25em;
      padding: 0.5em;
      border-bottom: 1px solid #ccc;
    }
    .translation {
      display: block;
      font-size: 0.8em;
      color: #444;
    }
  </style>
</head>
<body>
  <h2>ðŸ“– WBW Quran Terjemah</h2>

  <label>Surah: <input type="number" id="surah" value="1" min="1" max="114"></label>
  <label>Ayat: <input type="number" id="ayah" value="1" min="1"></label>
  <label>WBW Bahasa:
    <select id="wbwLang">
      <option value="">Tanpa Terjemah</option>
      <option value="en">English</option>
      <option value="ur">Urdu</option>
    </select>
  </label>
  <button onclick="loadWBW()">Tampilkan</button>

  <div id="output"></div>

  <script>
    async function loadWBW() {
      const surah = document.getElementById('surah').value;
      const ayah = document.getElementById('ayah').value;
      const lang = document.getElementById('wbwLang').value;
      const output = document.getElementById('output');
      output.innerHTML = 'Loading...';

      try {
        const res = await fetch(`https://api.quranwbw.com/v1/words/${surah}:${ayah}?language=${lang}`);
        const json = await res.json();
        const words = json.verse.words;

        output.innerHTML = '';
        words.forEach(w => {
          const span = document.createElement('span');
          span.className = 'word';
          span.innerText = w.text;
          if (lang && w.translation) {
            const t = document.createElement('span');
            t.className = 'translation';
            t.innerText = w.translation;
            span.appendChild(t);
          }
          output.appendChild(span);
        });
      } catch (e) {
        output.innerHTML = 'Gagal mengambil data.';
        console.error(e);
      }
    }
  </script>
</body>
</html>
